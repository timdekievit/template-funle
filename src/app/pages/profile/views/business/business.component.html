
    <div class="notification" [ngClass]="{'notification-show': show}">
        <div class="notification-content">
            Gelukt, opgeslagen!
        </div>
    </div>
    <form [formGroup]="form">
        <div class="person-container container">
            <h1>Zakelijke gegevens</h1>
            <div class="person-container--block">
              <div class="row">
                <div class="col-md-12">
                  <h4>Beschikbaarheid</h4>
                </div>
              </div>
              <div class="row">                
                  <div class="col-md-6 black">
                    <mat-form-field appearance="outline" floatLabel="always" color="accent" (click)="picker1.open()">
                      <mat-label>{{ 'components.candidateForm.availability.label' | translate }}</mat-label>
                      <input matInput disabled [matDatepicker]="picker1" [formControl]="form.controls.availability"
                        [placeholder]="'components.candidateForm.availability.placeholder' | translate" />
                      <mat-datepicker-toggle matSuffix [for]="picker1"></mat-datepicker-toggle>
                      <mat-datepicker #picker1 disabled="false"></mat-datepicker>
          
                      <mat-error *ngIf="form.dirty && form.controls.availability.hasError('required')">
                        {{ 'components.candidateForm.availability.errors.required' | translate }}
                      </mat-error>
                    </mat-form-field>
                  </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                    <h4>Gegevens</h4>
                </div>
              </div>
              <div class="row">                
                <div class="col-md-6">
                  <mat-form-field floatLabel="always" appearance="outline" color="accent">
                    <mat-label>KvK-nummer</mat-label>
          
                    <input matInput type="text" inputmode="numeric" autocomplete="off" [formControl]="form.controls.kvkNummer"
                            [placeholder]="" />
    
                    <mat-error *ngIf="form.dirty && form.controls.kvkNummer.hasError('required')">
                      KvK-nummer is verplicht
                    </mat-error>
                    <mat-error *ngIf="form.dirty && form.controls.kvkNummer.hasError('pattern')">
                      KvK-nummer moet 8 cijfers lang zijn
                    </mat-error>
                    <mat-error *ngIf="form.dirty && form.controls.kvkNummer.hasError('invalid')">
                      KvK-nummer is niet geldig
                    </mat-error>
                    <mat-error *ngIf="form.dirty && form.controls.kvkNummer.hasError('serverError')">
                      KvK-nummer voldoet niet aan de eisen
                    </mat-error>
                  </mat-form-field>
                </div>
            </div>
              <div class="row">
                <div class="col-md-6">
                  <mat-form-field floatLabel="always" appearance="outline" color="accent">
                    <mat-label>Functie</mat-label>
          
                    <input matInput autocomplete="off" [formControl]="form.controls.role"
                      [placeholder]="'Functie'" />
          
                    <mat-error *ngIf="form.dirty && form.controls.role.hasError('required')">
                      {{ 'components.candidateForm.role.errors.required' | translate }}
                    </mat-error>
                  </mat-form-field>
                </div>                
              </div>
              <div class="row">
                <div class="col-md-3">
                  <mat-form-field floatLabel="always" appearance="outline" color="accent">
                    <mat-label>Max. afstand klant (km)</mat-label>
          
                    <input matInput type="number" inputmode="numeric" autocomplete="off" [formControl]="form.controls.assignmentSearchRadius"
                      [placeholder]="'Max afstand'" min="0" />
          
                      <mat-error *ngIf="form.controls.hours.hasError('min')">
                        {{ 'components.candidateForm.assignmentSearchRadius.errors.min' | translate }}
                      </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field floatLabel="always" appearance="outline" color="accent">
                    <mat-label>Uur per week</mat-label>
          
                    <input matInput type="number" inputmode="numeric" autocomplete="off" [formControl]="form.controls.hours"
                      [placeholder]="'Uur per week'" min="1" max="40" />
          
                      <mat-error *ngIf="form.controls.hours.hasError('required')">
                        {{ 'components.candidateForm.hours.errors.required' | translate }}
                      </mat-error>
                      <mat-error *ngIf="form.controls.hours.hasError('min')">
                        {{ 'components.candidateForm.hours.errors.min' | translate }}
                      </mat-error>
                      <mat-error *ngIf="form.controls.hours.hasError('max')">
                        {{ 'components.candidateForm.hours.errors.max' | translate }}
                      </mat-error>
                  </mat-form-field>
                </div>
                <div class="col-md-3">
                  <mat-form-field floatLabel="always" appearance="outline" color="accent">
                    <mat-label>Uurtarief</mat-label>
          
                    <input matInput type="number" inputmode="numeric" autocomplete="off" [formControl]="form.controls.rate"
                      [placeholder]="'Uurtarief'" min="40" max="200" />
          
                    <mat-error *ngIf="form.controls.rate.hasError('required')">
                      {{ 'components.candidateForm.rate.errors.required' | translate }}
                    </mat-error>
                    <mat-error *ngIf="form.controls.rate.hasError('min')">
                      {{ 'components.candidateForm.rate.errors.min' | translate }}
                    </mat-error>
                    <mat-error *ngIf="form.controls.rate.hasError('max')">
                      {{ 'components.candidateForm.rate.errors.max' | translate }}
                    </mat-error>
                  </mat-form-field>
                </div>
              </div>
              <div class="row">
                <div class="col-md-3 d-md-none">
                  <div class="download-button">
                    <button type="button" color="primary" mat-flat-button>Download <mat-icon>download</mat-icon></button>
                  </div>
                </div>
                <div class="col-md-9">
                  <mat-form-field floatLabel="always" appearance="outline" (click)="fileUpload.click()" color="accent">
                    <mat-label>{{ 'components.candidateForm.cv.label' | translate }}</mat-label>
          
                    <input readonly matInput autocomplete="off" [formControl]="form.controls.fileName"
                      [placeholder]="'components.candidateForm.cv.placeholder' | translate" />
          
                    <mat-icon matSuffix>attach_file</mat-icon>
          
                    <mat-error *ngIf="form.dirty && form.controls.fileName.hasError('required')">
                      {{ 'components.candidateForm.cv.errors.required' | translate }}
                    </mat-error>
          
                    <mat-error *ngIf="form.controls.fileName.hasError('fileMaxSize')">
                      {{ 'components.candidateForm.cv.errors.fileMaxSize' | translate }}
                    </mat-error>
          
                    <mat-error *ngIf="form.controls.fileName.hasError('fileExtension')">
                      {{ 'components.candidateForm.cv.errors.fileExtension' | translate }}
                    </mat-error>
          
                    <input type="file" accept=".pdf" name="fileUpload" id="fileUpload" (change)="onFileUpload($event.target.files)"
                      (click)="$event.stopPropagation()" #fileUpload />
                  </mat-form-field>
                </div>
                <div class="col-md-3 d-none d-md-block">
                  <div class="download-button">
                    <button (click)="downloadCV()" type="button" color="primary" mat-flat-button>Download <mat-icon>download</mat-icon></button>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field floatLabel="always" class="specialties-input" appearance="fill" color="accent">
                    <mat-label>Skills</mat-label>
                    <mat-chip-list #chipList aria-label="Skills selection">
                      <mat-chip *ngFor="let skill of skills"
                                (removed)="removeSpecialty(skill)">
                        {{skill.value}}
                        <mat-icon matChipRemove>cancel</mat-icon>
                      </mat-chip>
                      <input placeholder="Voeg skill toe"
                            [formControl]="form.controls.specialty"
                            [matChipInputFor]="chipList"
                            [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                            [matChipInputAddOnBlur]="true"
                            (matChipInputTokenEnd)="addSpecialty($event)">
                    </mat-chip-list>
                  </mat-form-field>
                </div>
              </div>  
              <div class="row">
                <div class="col-md-12">
                  <mat-form-field floatLabel="always" appearance="outline"  color="accent">
                    <mat-label>Standaard Motivatie</mat-label>
            
                    <textarea matInput rows="6" autocomplete="off" [formControl]="form.controls.defaultMotivation"
                      [placeholder]="'Zet hier je standaard motivatie. Deze wordt dan alvast ingevuld als je een opdracht interessant vindt. Scheelt weer werk.'"></textarea>
                  </mat-form-field>
                </div>
              </div>   
            </div> 
            <div class="row">
              <div class="col-md-6">
                  <funle-portal-block [type]="'primary'" [icon]="'dashboard'" [title]="'Dashboard'" [text]="'Een overzichtelijk overzicht. Overzichtelijker kunnen we het niet maken.'">
                      <button type="button" (click)="toPage('dashboard')" mat-button>Naar dashboard <mat-icon>arrow_forward</mat-icon></button>
                  </funle-portal-block>
              </div>
              <div class="col-md-6">
                <funle-portal-block [type]="'basic'" [icon]="'person'" [title]="'Persoonsgegevens'" [text]="'Gegevens zoals je naam, telefoonnummer etc..'">
                  <button type="button" (click)="toPage('profile/person')" mat-button>Wijzig <mat-icon>arrow_forward</mat-icon></button>
                </funle-portal-block>
              </div>
            </div>    
        </div>
    </form>
